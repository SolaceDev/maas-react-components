import { Meta, Description, Title, Subtitle, ArgTypes } from "@storybook/blocks";
import * as SolaceTextDiffStories from "./SolaceTextDiff.stories.tsx";
import { CustomStories } from "../../../../.storybook/CustomStories.tsx";

<Meta of={SolaceTextDiffStories} />

<Title>Text Diff</Title>

<Description of={SolaceTextDiffStories} />

<Subtitle>Code Component Name</Subtitle>
`SolaceTextDiff`

<Subtitle>Component Description</Subtitle>

The Solace Text Diff component is a specialized component for displaying differences between two text strings in a side-by-side format. It utilizes the diff2html library to generate a visually appealing and easy-to-understand comparison view, highlighting additions, deletions, and modifications between the two text versions.

This component is particularly useful for comparing code snippets, JSON data, or any textual content where users need to clearly see what has changed between two versions. It provides a familiar diff view similar to what developers see in version control systems.

<Subtitle>Import Statement</Subtitle>

```tsx
import { SolaceTextDiff } from "@SolaceDev/maas-react-components";
```

<Subtitle>Links</Subtitle>

- **GitHub Source Code**: [SolaceTextDiff.tsx](https://github.com/SolaceDev/maas-react-components/blob/main/src/components/SolaceTextDiff.tsx)
- **GitHub Theme Styles**: <a href="https://github.com/SolaceDev/maas-react-components/blob/main/src/resources/theme.ts#:~:text=CodeDiffContainer" target="_blank">theme.ts (CodeDiffContainer styles, OuterWrapper - Styles for the expanded backdrop overlay, InnerWrapper - Styles for the main editor container and expanded modal, EditorWrapper - Styles for the CodeMirror editor wrapper and borders, IconWrapper - Styles for the expand/collapse button positioning)</a>

<Subtitle>Props</Subtitle>

<ArgTypes of={SolaceTextDiffStories} />

<Subtitle>CSS Classes / Styles</Subtitle>

**Main Component Classes:**

- `.d2h-file-wrapper` - Main container for the diff view
- `.d2h-files-diff` - Container for the diff content
- `.d2h-file-side-diff` - Side-by-side diff container
- `.d2h-code-side-linenumber` - Line number display
- `.d2h-diff-table` - Table containing the diff content
- `.d2h-diff-tbody` - Body of the diff table

**State Classes:**

- `.d2h-del` - Deleted line styling
- `.d2h-ins` - Inserted line styling
- `.d2h-change` - Modified line styling
- `.d2h-emptyplaceholder` - Empty line placeholder styling

**Theme Customization:**

**Color Theming:**
The component uses the theme.palette.ux color system for all color-related styling. Key color theme paths:

<div style={{ display: "flex", alignItems: "center", margin: "8px 0" }}>
	<div
		style={{
			width: "16px",
			height: "16px",
			backgroundColor: "#E0E0E0",
			border: "1px solid rgba(0,0,0,0.2)",
			borderRadius: "3px",
			marginRight: "8px"
		}}
	></div>
	<span>theme.palette.ux.secondary.w40 - Border color for diff containers</span>
</div>
<div style={{ display: "flex", alignItems: "center", margin: "8px 0" }}>
	<div
		style={{
			width: "16px",
			height: "16px",
			backgroundColor: "#F5F5F5",
			border: "1px solid rgba(0,0,0,0.2)",
			borderRadius: "3px",
			marginRight: "8px"
		}}
	></div>
	<span>theme.palette.ux.background.w20 - Line number background color</span>
</div>
<div style={{ display: "flex", alignItems: "center", margin: "8px 0" }}>
	<div
		style={{
			width: "16px",
			height: "16px",
			backgroundColor: "#FFEBEE",
			border: "1px solid rgba(0,0,0,0.2)",
			borderRadius: "3px",
			marginRight: "8px"
		}}
	></div>
	<span>theme.palette.ux.error.light - Deletion background color</span>
</div>
<div style={{ display: "flex", alignItems: "center", margin: "8px 0" }}>
	<div
		style={{
			width: "16px",
			height: "16px",
			backgroundColor: "#E8F5E9",
			border: "1px solid rgba(0,0,0,0.2)",
			borderRadius: "3px",
			marginRight: "8px"
		}}
	></div>
	<span>theme.palette.ux.success.light - Addition background color</span>
</div>

To customize colors, override the palette.ux values in your theme configuration by extending the base theme and modifying the specific color group and variant you want to change.

**Non-Color Theming:**
Structural and layout customization through component overrides and mixins:

- theme.components.CodeDiffContainer.styleOverrides.root - Main container styling
- theme.components.OuterWrapper.styleOverrides.root - Expanded backdrop overlay styling
- theme.components.InnerWrapper.styleOverrides.root - Main editor container and expanded modal styling
- theme.components.EditorWrapper.styleOverrides.root - CodeMirror editor wrapper and borders styling
- theme.components.IconWrapper.styleOverrides.root - Expand/collapse button positioning

To customize layout and structure, override the component styleOverrides in your theme configuration.

**Layout Specifications:**

- Line numbers width: 24px
- Font family: monospace
- Font size: 14px
- Gap between diffs: 25px
- Border radius: 4px
- Padding: 16px (theme.spacing(2))
- Line height: 1.5
- Max height (collapsed): 400px

<Subtitle>Stories</Subtitle>
