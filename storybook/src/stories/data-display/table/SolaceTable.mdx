import { Meta, Description, Title, Subtitle, ArgTypes } from "@storybook/blocks";
import * as SolaceTableStories from "./SolaceTable.stories.tsx";
import { CustomStories } from "../../../../.storybook/CustomStories.tsx";

<Meta of={SolaceTableStories} />

<Title>Solace Table</Title>

<Description of={SolaceTableStories} />

<Subtitle>Code Component Name</Subtitle>
`SolaceTable`

<Subtitle>Component Description</Subtitle>

The SolaceTable component provides a comprehensive data table solution for displaying and interacting with structured data. It supports features like sorting, row selection (single/multi), column hiding, expandable rows, pagination integration, and cross-page selection. The component is designed to handle complex data scenarios while maintaining optimal performance and accessibility.

The component implements advanced table patterns including controlled and uncontrolled sorting, flexible selection modes, custom row rendering, action menus, and loading states. This makes it suitable for everything from simple data display to complex data management interfaces requiring bulk operations and detailed interactions.

<Subtitle>When To Use It</Subtitle>

Use SolaceTable when you need to display structured data with interactive capabilities. This component is particularly effective for data-heavy applications requiring user interaction and data manipulation.

Common use cases include:

- Displaying datasets with sortable columns and filterable content
- Managing lists of items where users need to select multiple rows for bulk actions
- Presenting tabular data with expandable details or nested information
- Creating data grids that require column customization and hiding/showing capabilities
- Building admin interfaces where users need to perform actions on individual or multiple rows
- Implementing paginated data views with cross-page selection support
- Displaying real-time data with loading states and empty state handling

<Subtitle>When Not To Use It</Subtitle>

- Simple data display that doesn't require interaction (use basic HTML table or list components)
- When you have very few rows (less than 5) that could be displayed as cards or list items
- For complex nested data structures that don't fit a tabular format well
- When the data is primarily text-heavy content that needs flowing layout
- Don't use for layout purposes - tables should contain actual tabular data
- Avoid when mobile responsiveness is critical and the data doesn't adapt well to smaller screens
- When users need to see all data at once without pagination or scrolling
- For dashboard summaries where key metrics should be highlighted differently
- When the interaction model is primarily drag-and-drop or visual manipulation
- Avoid for content that has irregular column structures or varying row layouts

<Subtitle>Import Statement</Subtitle>

```tsx
import {
	SolaceTable,
	SolaceTableSelectionType,
	SolaceTableSortDirection,
	SolaceTableColumn,
	SolaceTableRow,
	SolaceTableActionMenuItem
} from "@SolaceDev/maas-react-components";
```

<Subtitle>Links</Subtitle>

- **GitHub Source Code**: [SolaceTable.tsx](https://github.com/SolaceDev/maas-react-components/blob/main/src/components/table/SolaceTable.tsx)
- **GitHub Theme Styles**: <a href="https://github.com/SolaceDev/maas-react-components/blob/main/src/resources/theme.ts#:~:text=MuiTable" target="_blank">theme.ts (MuiTable styles)</a>

<Subtitle>Properties</Subtitle>

<ArgTypes of={SolaceTableStories} />

<Subtitle>CSS Classes / Styles</Subtitle>

**Main Component Classes:**

- `.tableWrapper` - Root table container with border and styling
- `.MuiTable-root` - Material-UI table root styling
- `.MuiTableHead-root` - Table header section
- `.MuiTableBody-root` - Table body section
- `.MuiTableRow-root` - Individual table row styling

**State Classes:**

- `.Mui-selected` - Applied to selected table rows
- `.Mui-disabled` - Applied to disabled rows
- `.expanded` - Applied to expanded table rows
- `.checkbox-column` - Applied to checkbox column headers and cells
- `.action-column` - Applied to action menu column

**Selection Classes:**

- `.selectAllCheckbox` - Select all checkbox in header
- `.rowCheckbox` - Individual row selection checkboxes
- `.highlighted` - Applied to highlighted rows when independentRowHighlight is enabled

**Loading and Empty State Classes:**

- `.TableHeaderLoadingOverlay` - Loading overlay for table header
- `.TableBodyLoadingOverlay` - Loading overlay for table body
- `.EmptyStateLoadingOverlay` - Loading overlay for empty state
- `.LoadingIndicatorWrapper` - Container for loading spinner and message

**Theme Customization:**
The component uses Material-UI's theme system with custom Solace styling. Key theme paths:

- `theme.palette.ux.primary.text.wMain` - Primary text color
- `theme.palette.ux.secondary.w20` - Border colors for rows and columns
- `theme.palette.ux.secondary.w40` - Secondary border colors
- `theme.palette.ux.background.w10` - Table background color
- `theme.palette.ux.accent.n2.wMain` - Focus and selection colors

**Layout Specifications:**

- Table container: `border-radius: 4px`, `width: 100%`, `height: 100%`
- Minimum height: `200px` (configurable via minHeight prop)
- Maximum height: `100%` (configurable via maxHeight prop)
- Table layout: `table-layout: fixed` for consistent column widths
- Header height: `56px` for loading indicator calculations
- Row padding: Varies based on selection type and expandable options
- Loading overlay opacity: `rgba(255, 255, 255, 0.45)`

<Subtitle>Stories</Subtitle>

<CustomStories />
