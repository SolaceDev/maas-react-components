import { Meta, Description, Title, Subtitle, ArgTypes } from "@storybook/blocks";
import * as SolaceJsonSchemaFormStories from "./SolaceJsonSchemaForm.stories.tsx";
import { CustomStories } from "../../../../.storybook/CustomStories.tsx";

<Meta of={SolaceJsonSchemaFormStories} />

<Title>Solace JSON Schema Form</Title>

<Description of={SolaceJsonSchemaFormStories} />

<Subtitle>Code Component Name</Subtitle>
`SolaceJsonSchemaForm`

<Subtitle>Component Description</Subtitle>

The Solace JSON Schema Form component provides a dynamic form generator based on JSON Schema specifications. It's useful for creating complex forms programmatically, allowing users to define form structure and validation rules through schema configuration.

The component implements React JSON Schema Form (RJSF) with custom Solace design system integration. This pattern enables rapid form development while maintaining consistency with Solace UI patterns and providing powerful validation capabilities.

<Subtitle>When To Use It</Subtitle>

Use Solace JSON Schema Form when you have dynamic form requirements that can't be easily handled with static form components. This schema-driven pattern is particularly effective for configuration forms, API integration forms, and scenarios where form structure changes based on data or user permissions.

Common use cases include:

- Configuration forms where field requirements vary based on selected options
- API endpoint configuration with dynamic parameter validation
- Multi-step forms with conditional field visibility
- Data entry forms that need to adapt to different schemas
- Forms that require complex validation rules and error handling
- Integration with backend systems that provide JSON Schema definitions

<Subtitle>When Not To Use It</Subtitle>

- Simple static forms with a few fixed fields - use individual Solace form components instead
- Forms that require highly customized layouts or styling beyond what RJSF supports
- Performance-critical scenarios where the overhead of schema parsing is problematic
- When you need fine-grained control over individual field rendering and behavior
- Forms with complex custom widgets that don't fit the RJSF widget model
- Mobile-first applications where the generated markup may not be optimal for touch interfaces
- When form validation logic is better handled at the application level rather than schema level

<Subtitle>Import Statement</Subtitle>

```tsx
import { SolaceJsonSchemaForm } from "@SolaceDev/maas-react-components";
```

<Subtitle>Links</Subtitle>

- **GitHub Source Code**: [SolaceJsonSchemaForm.tsx](https://github.com/SolaceDev/maas-react-components/blob/main/src/components/jsonschemaform/SolaceJsonSchemaForm.tsx)
- **GitHub Theme Styles**: <a href="https://github.com/SolaceDev/maas-react-components/blob/main/src/resources/theme.ts#:~:text=Form" target="_blank">theme.ts (Form styles)</a>

<Subtitle>Props</Subtitle>

<ArgTypes of={SolaceJsonSchemaFormStories} />

<Subtitle>CSS Classes / Styles</Subtitle>

**Main Component Classes:**

- `.solaceJsonSchemaForm` - Root form container with custom Solace styling
- `.MuiFormControl-root` - Individual form field containers
- `.form-group.field` - Form field wrapper with spacing
- `.form-group.field-array` - Array field container with border styling

**State Classes:**

- `.Mui-disabled` - Applied when form or fields are disabled
- `.Mui-error` - Applied to fields with validation errors
- `.field-error` - Applied to field containers with errors
- `.field-object` - Applied to object type fields

**Field Type Classes:**

- `.form-group.field` - Standard form field styling
- `.form-group.field-array` - Array field with paper-style container
- `.form-group.field-object` - Object field with nested structure

**Theme Customization:**
The component uses Material-UI's theme system with custom Solace styling. Key theme paths:

- `theme.palette.ux.secondary.w20` - Border color for array field containers
- `theme.spacing(2)` - Standard field bottom padding
- `theme.spacing(3, 0)` - Form title padding
- `theme.spacing(1, 0, 0, 0)` - Array container top margin

**Layout Specifications:**

- Form max width: `585px`
- Field bottom padding: `16px` (theme.spacing(2))
- Form title padding: `24px 0` (theme.spacing(3, 0))
- Array container margin: `8px 0 0 0` (theme.spacing(1, 0, 0, 0))
- Grid margin override: `0 16px 0 0`

<Subtitle>Stories</Subtitle>

<CustomStories />